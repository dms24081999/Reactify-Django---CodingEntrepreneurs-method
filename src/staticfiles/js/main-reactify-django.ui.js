(this["webpackJsonpreactify-ui"]=this["webpackJsonpreactify-ui"]||[]).push([[0],[,,,,,,,function(e){e.exports=JSON.parse('{"RootURL":"http://localhost:8000","name":"reactify-ui","version":"0.1.0","private":true,"dependencies":{"@babel/core":"7.6.0","@svgr/webpack":"4.3.2","@typescript-eslint/eslint-plugin":"^2.2.0","@typescript-eslint/parser":"^2.2.0","babel-eslint":"10.0.3","babel-jest":"^24.9.0","babel-loader":"8.0.6","babel-plugin-named-asset-import":"^0.3.4","babel-preset-react-app":"^9.0.2","camelcase":"^5.2.0","case-sensitive-paths-webpack-plugin":"2.2.0","copyfiles":"^2.1.1","css-loader":"2.1.1","dotenv":"6.2.0","dotenv-expand":"5.1.0","eslint":"^6.1.0","eslint-config-react-app":"^5.0.2","eslint-loader":"3.0.2","eslint-plugin-flowtype":"3.13.0","eslint-plugin-import":"2.18.2","eslint-plugin-jsx-a11y":"6.2.3","eslint-plugin-react":"7.14.3","eslint-plugin-react-hooks":"^1.6.1","file-loader":"3.0.1","fs-extra":"7.0.1","html-webpack-plugin":"4.0.0-beta.5","identity-obj-proxy":"3.0.0","is-wsl":"^1.1.0","jest":"24.9.0","jest-environment-jsdom-fourteen":"0.1.0","jest-resolve":"24.9.0","jest-watch-typeahead":"0.4.0","mini-css-extract-plugin":"0.8.0","optimize-css-assets-webpack-plugin":"5.0.3","pnp-webpack-plugin":"1.5.0","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"7.0.1","postcss-preset-env":"6.7.0","postcss-safe-parser":"4.0.1","prop-types":"^15.7.2","react":"^16.12.0","react-app-polyfill":"^1.0.4","react-dev-utils":"^9.1.0","react-dom":"^16.12.0","react-scripts":"^3.2.0","renamer":"^1.1.4","resolve":"1.12.0","resolve-url-loader":"3.1.0","sass-loader":"7.2.0","semver":"6.3.0","style-loader":"1.0.0","terser-webpack-plugin":"1.4.1","ts-pnp":"1.1.4","url-loader":"2.1.0","webpack":"4.41.0","webpack-dev-server":"3.2.1","webpack-manifest-plugin":"2.1.1","workbox-webpack-plugin":"4.3.1"},"scripts":{"start":"node scripts/start.js","build":"node scripts/build.js","test":"node scripts/test.js","collect":"node scripts/build.js && npm run build-rename && npm run copy-buildfiles && npm run collectstatic","build-rename":"npm run build-rename-js && npm run build-rename-css && npm run build-del","//":"&& npm run build-rename-logo","build-del":"rmdir /S /Q \\"../staticfiles\\" && rmdir /S /Q \\"../../static-cdn-local\\"","build-rename-logo":"renamer --find \\"/^(\\\\w+)\\\\.[^\\\\.]+\\\\.(\\\\w+)$/\\" --replace \\"$1.$2\\" build/static/media/*","build-rename-js":"npm run build-rename-number-js && npm run build-rename-main-js && npm run build-rename-runtime-main-js","build-rename-number-js":"renamer --find \\"/^[0-9]+.*.js$/\\"  --replace \\"number-reactify-django.ui.js\\" build/static/js/*.js","build-rename-main-js":"renamer --find \\"/^main.*.js$/\\"  --replace \\"main-reactify-django.ui.js\\" build/static/js/*.js","build-rename-runtime-main-js":"renamer --find \\"/^runtime-main.*.js$/\\"  --replace \\"runtime-main-reactify-django.ui.js\\" build/static/js/*.js","build-rename-css":"renamer --find \\"/^main.*css$/\\" --replace \\"reactify-django.ui.css\\" build/static/css/*.css","copy-buildfiles":"npm run copy-build-js && npm run copy-build-css && npm run copy-build-logo","copy-build-logo":"copyfiles -f \\"build/static/media/*\\" \\"../staticfiles/media/\\"","copy-build-js":"copyfiles -f \\"build/static/js/*.js\\" \\"../staticfiles/js/\\"","copy-build-css":"copyfiles -f \\"build/static/css/*.css\\" \\"../staticfiles/css/\\"","collectstatic":"python ../manage.py collectstatic --no-input"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"jest":{"roots":["<rootDir>/src"],"collectCoverageFrom":["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],"setupFiles":["react-app-polyfill/jsdom"],"setupFilesAfterEnv":[],"testMatch":["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],"testEnvironment":"jest-environment-jsdom-fourteen","transform":{"^.+\\\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},"transformIgnorePatterns":["[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|ts|tsx)$","^.+\\\\.module\\\\.(css|sass|scss)$"],"modulePaths":[],"moduleNameMapper":{"^react-native$":"react-native-web","^.+\\\\.module\\\\.(css|sass|scss)$":"identity-obj-proxy"},"moduleFileExtensions":["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],"watchPlugins":["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},"babel":{"presets":["react-app"]}}')},,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(9),o=n.n(r),i=(n(15),n(1)),l=n(2),c=n(4),u=n(3),p=n(5);var m=function(e){var t=a.a.createElement("ul",null,a.a.createElement("li",{onClick:function(){return e.display_form("login")}},"login"),a.a.createElement("li",{onClick:function(){return e.display_form("signup")}},"signup")),n=a.a.createElement("ul",null,a.a.createElement("li",{onClick:e.handle_logout},"logout"));return a.a.createElement("div",null,e.logged_in?n:t)},d=n(6);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}var f=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={username:"",password:""},n.handle_change=function(e){var t=e.target.name,s=e.target.value;n.setState((function(e){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return n[t]=s,n}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("form",{onSubmit:function(t){return e.props.handle_login(t,e.state)}},a.a.createElement("h4",null,"Log In"),a.a.createElement("label",{htmlFor:"username"},"Username"),a.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),a.a.createElement("label",{htmlFor:"password"},"Password"),a.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),a.a.createElement("input",{type:"submit"}))}}]),t}(a.a.Component);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}var h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={username:"",password:""},n.handle_change=function(e){var t=e.target.name,s=e.target.value;n.setState((function(e){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return n[t]=s,n}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("form",{onSubmit:function(t){return e.props.handle_signup(t,e.state)}},a.a.createElement("h4",null,"Sign Up"),a.a.createElement("label",{htmlFor:"username"},"Username"),a.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),a.a.createElement("label",{htmlFor:"password"},"Password"),a.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),a.a.createElement("input",{type:"submit"}))}}]),t}(a.a.Component),j=(n(16),n(7)),y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handle_login=function(e,t){e.preventDefault(),fetch(j.RootURL+"/token-auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),n.setState({logged_in:!0,displayed_form:"",username:e.user.username})}))},n.handle_signup=function(e,t){e.preventDefault(),fetch(j.RootURL+"/api/core/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),n.setState({logged_in:!0,displayed_form:"",username:e.username})}))},n.handle_logout=function(){localStorage.removeItem("token"),n.setState({logged_in:!1,username:""})},n.display_form=function(e){n.setState({displayed_form:e})},console.log(localStorage.getItem("token")),n.state={displayed_form:"",logged_in:!!localStorage.getItem("token"),username:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.logged_in&&fetch(j.RootURL+"/api/core/current_user/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({username:t.username})}))}},{key:"render",value:function(){var e;switch(this.state.displayed_form){case"login":e=a.a.createElement(f,{handle_login:this.handle_login});break;case"signup":e=a.a.createElement(h,{handle_signup:this.handle_signup});break;default:e=null}return a.a.createElement("div",{className:"App"},a.a.createElement(m,{logged_in:this.state.logged_in,display_form:this.display_form,handle_logout:this.handle_logout}),e,a.a.createElement("h3",null,this.state.logged_in?"Hello, ".concat(this.state.username):"Please Log In"))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.8ec9e91f.chunk.js.map